% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generics.R, R/CellGraphAssay.R
\name{as.CellGraphAssay5}
\alias{as.CellGraphAssay5}
\alias{as.CellGraphAssay5.Assay5}
\title{Convert objects to a \code{\link{CellGraphAssay5}}}
\usage{
as.CellGraphAssay5(x, ...)

\method{as.CellGraphAssay5}{Assay5}(
  x,
  cellgraphs = NULL,
  polarization = NULL,
  colocalization = NULL,
  fs_map = NULL,
  ...
)
}
\arguments{
\item{x}{An object to convert to class \code{\link{CellGraphAssay5}}}

\item{...}{Arguments passed to other methods}

\item{cellgraphs}{A list of \code{\link{CellGraph}} objects}

\item{polarization}{A \code{tbl_df} with polarization scores}

\item{colocalization}{A \code{tbl_df} with colocalization scores}

\item{fs_map}{A \code{tbl_df} with information on source pxl file
paths, sample IDs, and component IDs}
}
\value{
A \code{CellGraphAssay5} object
}
\description{
Convert objects to a \code{\link{CellGraphAssay5}}
}
\examples{

library(pixelatorR)
library(SeuratObject)
library(dplyr)
library(tidygraph)

pxl_file <- system.file("extdata/five_cells",
  "five_cells.pxl",
  package = "pixelatorR"
)
counts <- ReadMPX_counts(pxl_file)
edgelist <- ReadMPX_item(pxl_file, items = "edgelist")
components <- colnames(counts)
edgelist_split <-
  edgelist \%>\%
  select(upia, upib, component) \%>\%
  distinct() \%>\%
  group_by(component) \%>\%
  group_split() \%>\%
  setNames(nm = components)

# Convert data into a list of CellGraph objects
bipartite_graphs <- lapply(edgelist_split, function(x) {
  x <- x \%>\% as_tbl_graph(directed = FALSE)
  x <- x \%>\% mutate(node_type = case_when(name \%in\% edgelist$upia ~ "A", TRUE ~ "B"))
  attr(x, "type") <- "bipartite"
  CreateCellGraphObject(cellgraph = x)
})

# Create Assay5
assay5 <- CreateAssay5Object(counts = counts)

# Convert Assay5 to CellGraphAssay5
cg_assay <- as.CellGraphAssay5(assay5, cellgraphs = bipartite_graphs)
cg_assay

}
\concept{assay}
