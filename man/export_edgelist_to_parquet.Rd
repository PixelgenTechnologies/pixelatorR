% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read_and_write_parquet.R
\name{export_edgelist_to_parquet}
\alias{export_edgelist_to_parquet}
\title{Export a FileSystemDataset to .parquet files}
\usage{
export_edgelist_to_parquet(
  object,
  outdir,
  suffix = "",
  overwrite = FALSE,
  verbose = TRUE
)
}
\arguments{
\item{object}{An \code{FileSystemDataset}}

\item{outdir}{A path to an existing directory}

\item{suffix}{Add a suffix to output directory name}

\item{overwrite}{If the output directory already exists, set this parameter
to TRUE to overwrite the directory}

\item{verbose}{Print messages}
}
\value{
Path to the output folder
}
\description{
This function can be used to export a \code{FileSystemDataset} to a
folder containing .parquet files readable with \code{\link{open_dataset}}
}
\examples{
library(pixelatorR)
library(dplyr)
# Set arrow data output directory to temp for tests
options(pixelatorR.arrow_outdir = tempdir())

# Load example data
pxl_file <- system.file("extdata/PBMC_10_cells",
                        "Sample01_test.pxl",
                        package = "pixelatorR")
edgelist_arrow <- ReadMPX_arrow_edgelist(pxl_file, overwrite = TRUE)

# Manipulate edgelist with dplyr verbs
sorted_components <- edgelist_arrow \%>\%
  group_by(component) \%>\%
  summarize(component_size = n()) \%>\%
  arrange(-component_size)

# Inspect results
sorted_components \%>\% collect()

# Export results to a parquet file
tmp_dir <- tempdir()
outdir <- file.path(tmp_dir, "sorted_components")
dir.create(outdir, showWarnings = FALSE)
outpath <- export_edgelist_to_parquet(object = sorted_components,
                                      outdir = outdir,
                                      overwrite = TRUE)
outpath

}
