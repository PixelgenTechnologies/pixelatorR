% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generics.R, R/save_objects.R
\name{WriteMPX}
\alias{WriteMPX}
\alias{WriteMPX.CellGraphAssay}
\alias{WriteMPX.Seurat}
\title{Write MPX data objects}
\usage{
WriteMPX(object, ...)

\method{WriteMPX}{CellGraphAssay}(object, file, overwrite = FALSE, ...)

\method{WriteMPX}{Seurat}(object, file, overwrite = FALSE, ...)
}
\arguments{
\item{object}{An object}

\item{...}{Additional parameters passed to \code{saveRDS}}

\item{file}{Name of the file where the object is written to}

\item{overwrite}{Set to TRUE to overwrite existing directory}
}
\value{
Nothing
}
\description{
Saves a \code{\link{CellGraphAssay}} object or a \code{Seurat} object
containing a \code{\link{CellGraphAssay}} object. Use this function
as a replacement for \code{saveRDS} to ensure that the associated arrow data
is exported to the same folder as the \code{Seurat} object.
}
\details{
If the \code{\link{CellGraphAssay}} doesn't contain any arrow Dataset, the
function will simply export the object using \code{saveRDS}. If it does contain a
Dataset, \code{WriteMPX} will export the Dataset to a new directory and update
the "arrow_dir" slot of the object with this new directory before exporting it.
}
\examples{

library(pixelatorR)

# Load example data as a Seurat object
pxl_file <- system.file("extdata/PBMC_10_cells",
                        "Sample01_test.pxl",
                        package = "pixelatorR")
seur_obj <- ReadMPX_Seurat(pxl_file, overwrite = TRUE, return_cellgraphassay = TRUE)

# Save CellGraphAssay
outfile <- tempfile()
WriteMPX(object = seur_obj[["mpxCells"]], outfile, overwrite = TRUE)

# Reload object
cg_assay <- readRDS(outfile)

# The arrow_dir now points to the directory where the parquet files are stored
cg_assay@arrow_dir
list.files(cg_assay@arrow_dir)


# Save Seurat object
outfile <- tempfile()
WriteMPX(object = seur_obj, outfile, overwrite = TRUE)

# Reload object
seur_obj <- readRDS(outfile)

}
