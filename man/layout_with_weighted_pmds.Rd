% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/weighted_pmds.R
\name{layout_with_weighted_pmds}
\alias{layout_with_weighted_pmds}
\title{Weighted PMDS}
\usage{
layout_with_weighted_pmds(
  g,
  dim = 2,
  method = c("prob_dist", "cos_dist"),
  pivots = 200,
  pow = 3,
  seed = 123
)
}
\arguments{
\item{g}{An \code{igraph} or a \code{tbl_graph} object}

\item{dim}{Desired number of dimensions. Can be 2 or 3}

\item{method}{Edge weighting method to use for computing the layout.
Can be either "prob_dist" or "cos_dist".}

\item{pivots}{Number of pivots}

\item{pow}{Power to raise the scores to. Default is 3.}

\item{seed}{Set seed for pivot sampling}
}
\value{
A matrix of 2D or 3D coordinates
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}

This function is a wrapper around \code{layout_with_pmds} from
the \code{graphlayouts} R package, and can be used to compute a pmds
layout of a graph with edge weights.
}
\section{weights}{

\itemize{
\item \emph{prob_dist} : see \code{\link{cos_distance_weights}}
\item \emph{cos_dist} : see \code{\link{prob_distance_weights}}
}
}

\examples{
library(dplyr)

pxl_file <- system.file("extdata/five_cells",
                        "five_cells.pxl",
                        package = "pixelatorR")
seur_obj <- ReadMPX_Seurat(pxl_file) \%>\%
  LoadCellGraphs(cells = colnames(.)[1])

# compute weighted pMDS layout
g <- CellGraphs(seur_obj)[[1]] \%>\%
  CellGraphData("cellgraph")
layout <- layout_with_weighted_pmds(g, dim = 3) \%>\%
  as_tibble(.name_repair = ~c("x", "y", "z"))
plotly::plot_ly(
  layout,
  x = ~x,
  y = ~y,
  z = ~z,
  size = 1,
  type = "scatter3d",
  mode = "markers"
)

# or using ComputeLayout and Plot3DGraph
seur_obj <- seur_obj \%>\%
  # Compute weighted pMDS layout
  ComputeLayout(layout_method = "wpmds", dim = 3)

# Create 3D plot
Plot3DGraph(seur_obj,
            layout_method = "wpmds",
            cell_id = colnames(seur_obj)[1],
            marker = "CD3E")


}
