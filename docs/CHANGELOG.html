<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • pixelatorR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png"><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">pixelatorR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.13.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><a class="dropdown-item" href="articles/introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="articles/load_data.html">Load Data</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/PixelgenTechnologies/pixelatorR" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="logo.png" class="logo" alt=""><h1>Changelog</h1>

    </div>

<div id="changelog" class="section level1">

<p>All notable changes to this project will be documented in this file.</p>
<p>The format is based on <a href="https://keepachangelog.com/en/1.0.0/" class="external-link">Keep a Changelog</a>, and this project adheres to <a href="https://semver.org/spec/v2.0.0.html" class="external-link">Semantic Versioning</a>.</p>
<div class="section level2">
<h2 id="id_0130---2025-04-23">[0.13.0] - 2025-04-23<a class="anchor" aria-label="anchor" href="#id_0130---2025-04-23"></a></h2>
<div class="section level3">
<h3 id="added">Added<a class="anchor" aria-label="anchor" href="#added"></a></h3>
<ul><li>
<code>PixelDB</code> R6 class to access data from a PXL file (<code>&lt;pxl_file&gt;</code>) containing a duckdb database.
<ul><li>
<code>PixelDB$new</code> create a new <code>PixelDB</code> object from a PXL file containing PNA data.</li>
<li>
<code>PixelDB$info</code> get information about the tables stored in the PXL file.</li>
<li>
<code>PixelDB$query</code> send an SQL query to the database.</li>
<li>
<code>PixelDB$check_connection</code> check if the connection to the PXL file is still valid.</li>
<li>
<code>PixelDB$reconnect</code> reconnect to the database if the connection is closed.</li>
<li>
<code>PixelDB$names</code> get the names of the tables stored in the database.</li>
<li>
<code>PixelDB$fetch_table</code> fetch an entire table as a <code>data.frame</code>.</li>
<li>
<code>PixelDB$fetch_table_subset</code> fetch a subset of a table as a <code>data.frame</code>
</li>
<li>
<code>PixelDB$counts</code> fetch the antibody count matrix.</li>
<li>
<code>PixelDB$proximity</code> fetch the proximity scores table.</li>
<li>
<code>PixelDB$cell_meta</code> fetch the component/cell meta data.</li>
<li>
<code>PixelDB$protein_meta</code> fetch the protein meta data.</li>
<li>
<code>PixelDB$run_meta</code> fetch the Pixelator run meta data.</li>
<li>
<code>PixelDB$components_edgelist</code> fetch the edgelist(s) for selected components/cells.</li>
<li>
<code>PixelDB$components_layout</code> fetch the layout(s) for selected components/cells.</li>
<li>
<code>PixelDB$components_marker_counts</code> fetch the node counts for selected component/cell graphs.</li>
<li>
<code>PixelDB$export_parquet</code> export a table in the database to a parquet file.</li>
<li>
<code>PixelDB$close</code> close the connection.</li>
</ul></li>
<li>
<code>ReadPNA_counts</code> function to load the count matrix from a PXL file containing PNA data.</li>
<li>
<code>ReadPNA_proximity</code> function to load the proximity scores table from a PXL file containing PNA data. Also supports lazy loading.</li>
<li>
<code>ReadPNA_edgelist</code> function to load the edgelist from a PXL file containing PNA data. Also supports lazy loading.</li>
<li>
<code>ReadPNA_layouts</code> function to load component layouts from a PXL file containing PNA data with pre-computed layouts.</li>
<li>
<code>ReadPNA_Seurat</code> function to construct a <code>Seurat</code> object from a PXL file containing PNA data.</li>
<li>
<code>ReadPNA_metadata</code> function to load sample meta data from a PXL file containing PNA data.</li>
<li>
<code>PNAAssay</code> class to store PNA data in a <code>Seurat</code> object (v3).</li>
<li>
<code>CreatePNAAssay</code> to create a <code>PNAAssay</code> object.</li>
<li>
<code>PNAAssay5</code> class to store PNA data in a <code>Seurat</code> object (v5).</li>
<li>
<code>CreatePNAAssay5</code> to create a <code>PNAAssay5</code> object.</li>
<li>
<code>Edgelists</code> methods for <code>PNAAssay</code>, <code>PNAAssay5</code> and <code>Seurat</code> to load edgelists. Supports lazy loading for manipulation with <code>dbplyr</code>.</li>
<li>
<code>ProximityScores</code> methods for <code>PNAAssay</code>, <code>PNAAssay5</code> and <code>Seurat</code> to fetch proximity scores. Supports lazy loading for manipulation with <code>dbplyr</code>.</li>
<li>
<code>ProximityScores&lt;-</code> methods for <code>PNAAssay</code>, <code>PNAAssay5</code> and <code>Seurat</code> to set proximity scores.</li>
<li>
<code>ProximityScoresToAssay</code> methods for <code>data.frame</code>, <code>tbl_lazy</code>, <code>PNAAssay</code>, <code>PNAAssay5</code> and <code>Seurat</code> to convert the long formatted proximity score table into a wide format.</li>
<li>
<code>LoadCellGraphs</code> methods for for <code>PNAAssay</code> and <code>PNAAssay5</code>.</li>
<li>
<code>ComputeLayout</code> methods for for <code>PNAAssay</code> and <code>PNAAssay5</code>.</li>
<li>
<code>RemoveCellGraphs</code> methods for for <code>PNAAssay</code> and <code>PNAAssay5</code>.</li>
<li>
<code>CellGraphs</code> methods for for <code>PNAAssay</code> and <code>PNAAssay5</code>.</li>
<li>
<code>RestorePaths</code> methods for for <code>PNAAssay</code> and <code>PNAAssay5</code>.</li>
<li>
<code>FSMap</code>/<code>FSMap&lt;-</code> methods for <code>PNAAssay</code> and <code>PNAAssay5</code>.</li>
<li>
<code>show</code> method for <code>PNAAssay</code> and <code>PNAAssay5</code>.</li>
<li>
<code>subset</code> method for <code>PNAAssay</code> and <code>PNAAssay5</code>.</li>
<li>
<code>merge</code> method for <code>PNAAssay</code> and <code>PNAAssay5</code>.</li>
<li>
<code>RenameCells</code> methods for <code>PNAAssay</code> and <code>PNAAssay5</code>.</li>
<li>
<code>JoinLayers</code> method for <code>PNAAssay5</code>.</li>
<li>
<code>as.PNAAssay</code> method to convert an <code>Assay</code> object to a <code>PNAAssay</code> object.</li>
<li>
<code>as.PNAAssay5</code> method to convert an <code>Assay5</code> object to a <code>PNAAssay5</code> object.</li>
<li>
<code>DifferentialProximityAnalysis</code> function to perform differential testing on PNA proximity scores. The function has a similar API as <code>RunDAA</code>, <code>RunDPA</code> and <code>RunDCA</code> but uses a much faster implementation of the Wilcoxon rank sum test (Mann-Whitney U test) with the <code>data.table</code> R package.</li>
<li>A minimal PXL file woth PNA data.</li>
<li>
<code>minimal_mpx_pxl_file</code> function to get the path to the minimal MPX PXL file.</li>
<li>
<code>minimal_mpx_pna_file</code> function to get the path to the minimal PNA PXL file.</li>
<li>Utility function for asserting valid colors; <code>assert_valid_color</code>.</li>
<li>Utility function for asserting valid <code>PNAAssay</code>/<code>PNAAssay5</code>; <code>assert_pna_assay</code>.</li>
<li>Utility function for asserting valid <code>PNAAssay</code>/<code>PNAAssay5</code>/<code>CellGraphAssay</code>/<code>CellGraphAssay5</code>; <code>assert_pna_assay</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="updates">Updates<a class="anchor" aria-label="anchor" href="#updates"></a></h3>
<ul><li>
<code>MoleculeRankPlot</code> now supports Seurat objects with PNA data with <code>n_umi</code> representing the total number of detected antibodies.</li>
<li>
<code>TauPlot</code> now supports Seurat objects with PNA data using <code>n_umi</code> on the y-axis.</li>
<li>
<code>Plot2DGraph</code> now supports Seurat objects with PNA data.</li>
<li>
<code>Plot2DGraphM</code> now supports Seurat objects with PNA data.</li>
<li>
<code>Plot3DGraph</code> now supports Seurat objects with PNA data.</li>
<li>
<code>DensityScatterPlot</code> can now draw <code>rectangle</code> or <code>quadrant</code> gates by selecting the appropriate <code>gate_type</code> argument. Additionally, gate annotation aesthetics can now be customized using <code>annotation_params</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="changes">Changes<a class="anchor" aria-label="anchor" href="#changes"></a></h3>
<ul><li>
<code>ComputeLayout</code> now only supports the “pmds” and “wpmds” graph drawing methods. The “kk”, “fr” and “drl” methods have been removed but can be run if needed using the <code>custom_layout_function</code> parameter. The default layout method is now “wpmds” with <code>dim = 3</code>.</li>
<li>
<code>NormalizeMPX</code> is superseded by <code>Normalize</code>. The <code>NormalizeMPX</code> function will be removed in a future release.</li>
</ul></div>
<div class="section level3">
<h3 id="removed">Removed<a class="anchor" aria-label="anchor" href="#removed"></a></h3>
<ul><li>
<code>LoadCellGraphs.data.frame</code> method</li>
</ul></div>
<div class="section level3">
<h3 id="fixes">Fixes<a class="anchor" aria-label="anchor" href="#fixes"></a></h3>
<ul><li>Fixed bug in <code>DensityScatterPlot</code> where the <code>gate_type</code> default would lead to an error.</li>
<li>Fixed bug in <code>DensityScatterPlot</code> where the x- and y-axis titles were hardcoded as “Marker1” and “Marker2”</li>
<li>Fixed bug in <code>subset.MPXAssay</code> and <code>subset.PNAAssay</code> where the <code>fs_map</code> table was not filtered correctly when all components from a sample are removed.</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_0121---2025-01-21">[0.12.1] - 2025-01-21<a class="anchor" aria-label="anchor" href="#id_0121---2025-01-21"></a></h2>
<div class="section level3">
<h3 id="fixes-1">Fixes<a class="anchor" aria-label="anchor" href="#fixes-1"></a></h3>
<ul><li>
<code>MoleculeRankPlot</code> now also accepts columns “edges” and “molecules” as numeric class, in addition to integer class.</li>
<li>
<code>ColocalizationHeatmap</code> now has the same order of x and y axis when <code>symmetrise = TRUE</code> and <code>type = "dots"</code>.</li>
<li>Updated “.lintr” rules to handle return rule added in lintr 3.2.0.</li>
<li>Updated deprecated v3 of GitHub Action <code>upload-artifact</code> to v4.</li>
<li>Swapped <code><a href="https://r-lib.github.io/zip/reference/unzip.html" class="external-link">zip::unzip</a></code> with <code><a href="https://rdrr.io/r/utils/unzip.html" class="external-link">utils::unzip</a></code> in <code>ReadMPX_counts</code>
</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_0120---2025-01-16">[0.12.0] - 2025-01-16<a class="anchor" aria-label="anchor" href="#id_0120---2025-01-16"></a></h2>
<div class="section level3">
<h3 id="added-1">Added<a class="anchor" aria-label="anchor" href="#added-1"></a></h3>
<ul><li>
<code>RunDAA</code> : Differential abundance analysis function with a similar interface to <code>RunDPA</code> and <code>RunDCA</code>. <code>RunDAA</code> uses the <code>FindMarkers</code> function from Seurat to perform differential abundance analysis, but enables splitting of tests into multiple groups. By default, it reports the difference in means instead of <code>avg_log2FC</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="updates-1">Updates<a class="anchor" aria-label="anchor" href="#updates-1"></a></h3>
<ul><li>Updated type assertions and improved error messaging (inspired by the tidyverse style guide).</li>
<li>The <code>ComputeLayout.Seurat</code> method now supports parallelized computation of layouts.</li>
<li>Added option to fetch marker counts in <code>PolarizationScores</code> and <code>ColocalizationScores</code> methods. This is for example useful when filtering spatial metrics tables for markers with low counts.</li>
<li>Silenced warnings in <code>RunDPA</code>/<code>RunDCA</code> when running tests in parallel to avoid halting the R session.</li>
<li>Improved clean up of temporary files created by <code>ReadMPX_counts</code> and <code>ReadMPX_item</code>.</li>
<li>
<code>RunDPA</code> and <code>RunDCA</code> now accepts any numeric vector from the spatial metric table as input for differential testing. The metric is specified by <code>polarity_metric</code> (<code>RunDPA</code>) or <code>coloc_metric</code> (<code>RunDCA</code>).</li>
<li>Updated <code>subset</code> and <code>merge</code> methods for <code>MPXAssay</code> to have less stringent validation of the spatial metric tables (polarity and colocalization scores).<br></li>
<li>Updated <code>ReadMPX_Seurat</code> to have less stringent validation of the spatial metric tables (polarity and colocalization scores).</li>
<li>
<code>ColocalizationHeatmap</code> now allows legend titles and the legend range to be manually set</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-2">Fixes<a class="anchor" aria-label="anchor" href="#fixes-2"></a></h3>
<ul><li>pixelatorR read functions now uses <code><a href="https://rdrr.io/r/utils/unzip.html" class="external-link">utils::unzip</a></code> instead of <code><a href="https://r-lib.github.io/zip/reference/unzip.html" class="external-link">zip::unzip</a></code> to support PXL files larger than 2GB</li>
<li>
<code>LoadCellGraphs</code> now throws an error if duplicated cell ids (<code>cells</code>) are provided</li>
<li>PXL files missing spatial scores can now be loaded with <code>ReadMPX_Seurat</code> without throwing an error. This is useful when the pixelator pipeline was run without computing spatial scores.</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_0110---2024-09-18">[0.11.0] - 2024-09-18<a class="anchor" aria-label="anchor" href="#id_0110---2024-09-18"></a></h2>
<div class="section level3">
<h3 id="updates-2">Updates<a class="anchor" aria-label="anchor" href="#updates-2"></a></h3>
<ul><li>The R arrow version is no longer pinned to v14. This allows the package to be installed with the latest version of arrow.</li>
<li>Updated <code>LoadCellGraphs</code> methods to be compatible with R arrow v17</li>
<li>
<code>RunDPA</code> and <code>RunDCA</code> now handles multiple <code>targets</code> for differential tests. Previously, only 1 <code>target</code> could be compared against <code>reference</code>. Now, if multiple <code>targets</code> are provided, the function will perform multiple differential tests, one for each <code>target</code> against <code>reference</code>. This is typically useful when comparing multiple conditions against a single control group.</li>
<li>
<code>ColocalizationHeatmap</code> has been made more flexible, such that any column names in the input data can be used as long as the data has a data format suitable for a heat map.</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-3">Fixes<a class="anchor" aria-label="anchor" href="#fixes-3"></a></h3>
<ul><li>In <code>ColocalizationScoresToAssay</code>: Changed marker pair separator from “-” to “/”, to avoid string operation issues due to “-” occurring in marker names.</li>
<li>In <code>DensityScatterPlot</code>: Fixed a bug where the reported percentage of cells in a gate was incorrect when using multiple gates.</li>
<li>
<code>NormalizeMPX</code> now also handles Assay and Assay5 objects.</li>
</ul></div>
<div class="section level3">
<h3 id="added-2">Added<a class="anchor" aria-label="anchor" href="#added-2"></a></h3>
<ul><li>
<code>RestorePaths</code> : updates the PXL file paths in a <code>CellGraphAssay</code>, a <code>CellGraphAssay5</code> or a <code>Seurat</code> object created with pixelatorR. This function is useful when PXL files have been moved to a different location or when sharing Seurat objects with other users which would cause <code>LoadCellGraphs</code> to fail.</li>
<li>
<code>ReadMPX_metadata</code> : loads metadata from a PXL file. A <code>print</code> method for the output returned by <code>ReadMPX_metadata</code> is also included to provide a summary of the metadata.</li>
</ul></div>
<div class="section level3">
<h3 id="id_0102---2024-07-24">[0.10.2] - 2024-07-24<a class="anchor" aria-label="anchor" href="#id_0102---2024-07-24"></a></h3>
</div>
<div class="section level3">
<h3 id="fixes-4">Fixes<a class="anchor" aria-label="anchor" href="#fixes-4"></a></h3>
<ul><li>fixed bug in <code>TauPlot</code> where <code>group_by</code> was not properly evaluated</li>
</ul></div>
<div class="section level3">
<h3 id="id_0101---2024-07-23">[0.10.1] - 2024-07-23<a class="anchor" aria-label="anchor" href="#id_0101---2024-07-23"></a></h3>
</div>
<div class="section level3">
<h3 id="fixes-5">Fixes<a class="anchor" aria-label="anchor" href="#fixes-5"></a></h3>
<ul><li>updated <code>TauPlot</code> to handle new metric names introduced in pixelator v0.18. For data produced with pixelator v0.18, <code>TauPlot</code> now uses <code>mean_molecules_per_a_pixel</code> instead of <code>umi_per_upia</code>.</li>
<li>Updated <code>DensityScatterPlot</code> to not use deprecated <code>dplyr</code> functionality.</li>
<li>Changed <code>ComputeLayout</code> to add a suffix (’_3d’) to the layout name when <code>dim = 3</code>. This makes the naming of layouts consistent with the naming used in pixelator (Python).</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_0100---2024-07-10">[0.10.0] - 2024-07-10<a class="anchor" aria-label="anchor" href="#id_0100---2024-07-10"></a></h2>
<div class="section level3">
<h3 id="added-3">Added<a class="anchor" aria-label="anchor" href="#added-3"></a></h3>
<ul><li>
<code>layout_with_weighted_pmds</code> : Compute a graph layout using weighted PMDS.</li>
<li>option to use <code>layout_with_weighted_pmds</code> in <code>ComputeLayout</code> by setting <code>layout_method = "wpmds"</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="fix">Fix<a class="anchor" aria-label="anchor" href="#fix"></a></h3>
<ul><li>Updated documentation for <code>local_G</code>. The equations for the Z-scores have been corrected according to the original publication by Ord and Getis.</li>
</ul></div>
<div class="section level3">
<h3 id="added-4">Added<a class="anchor" aria-label="anchor" href="#added-4"></a></h3>
<ul><li>
<code>AbundanceColocalizationPlot</code> : Plot a scatter plot of the abundance of two sets of markers, colored by the colocalization score the marker pairs have in each component.</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_090---2024-07-03">[0.9.0] - 2024-07-03<a class="anchor" aria-label="anchor" href="#id_090---2024-07-03"></a></h2>
<div class="section level3">
<h3 id="added-5">Added<a class="anchor" aria-label="anchor" href="#added-5"></a></h3>
<ul><li>
<code>NormalizeMPX</code> : Normalize MPX data using either dsb or CLR transformations.</li>
</ul></div>
<div class="section level3">
<h3 id="updates-3">Updates<a class="anchor" aria-label="anchor" href="#updates-3"></a></h3>
<ul><li>
<code>PseudoDensityPlot</code> has been renamed to <code>DensityScatterPlot</code> to better reflect the function’s purpose and documentation has been improved</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_081---2024-07-01">[0.8.1] - 2024-07-01<a class="anchor" aria-label="anchor" href="#id_081---2024-07-01"></a></h2>
<div class="section level3">
<h3 id="fixes-6">Fixes<a class="anchor" aria-label="anchor" href="#fixes-6"></a></h3>
<ul><li>Fixed bug where <code>load_polarity_scores</code> controls whether colocalization scores are loaded instead of <code>load_colocalization_scores</code> in <code>ReadMPX_Seurat</code>.</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_080---2024-06-28">[0.8.0] - 2024-06-28<a class="anchor" aria-label="anchor" href="#id_080---2024-06-28"></a></h2>
<div class="section level3">
<h3 id="added-6">Added<a class="anchor" aria-label="anchor" href="#added-6"></a></h3>
<ul><li>
<code>pseudocolor_plot</code> plotting function to create scatterplots colored by density.</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_072---2024-06-27">[0.7.2] - 2024-06-27<a class="anchor" aria-label="anchor" href="#id_072---2024-06-27"></a></h2>
<div class="section level3">
<h3 id="fixes-7">Fixes<a class="anchor" aria-label="anchor" href="#fixes-7"></a></h3>
<ul><li>Updated <code>ReadMPX_layouts</code> to handle new layout parquet file format (including node names). This update is necessary to ensure that the order of pre-computed layout node coordinates match the order of nodes in loaded graphs.</li>
<li>Updated <code>LoadCellGraphs</code> to add pre-computed layouts to <code>CellGraph</code> objects with correct node order.</li>
<li>Updated <code>WriteMPX_pxl_file</code> to include node names in the exported layout parquet files.</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_071---2024-06-24">[0.7.1] - 2024-06-24<a class="anchor" aria-label="anchor" href="#id_071---2024-06-24"></a></h2>
<div class="section level3">
<h3 id="added-7">Added<a class="anchor" aria-label="anchor" href="#added-7"></a></h3>
<ul><li>
<code>FSMap</code> Seurat method</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_070---2024-06-13">[0.7.0] - 2024-06-13<a class="anchor" aria-label="anchor" href="#id_070---2024-06-13"></a></h2>
<div class="section level3">
<h3 id="added-8">Added<a class="anchor" aria-label="anchor" href="#added-8"></a></h3>
<ul><li>
<code>MoleculeRankPlot</code> : replaces <code>EdgeRankPlot</code>. <code>EdgeRankPlot</code> is now deprecated and will be removed in a future release.</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_061---2024-06-11">[0.6.1] - 2024-06-11<a class="anchor" aria-label="anchor" href="#id_061---2024-06-11"></a></h2>
<div class="section level3">
<h3 id="fixes-8">Fixes<a class="anchor" aria-label="anchor" href="#fixes-8"></a></h3>
<ul><li>Fixed bug in <code>local_G</code> when <code>use_weights=FALSE</code> and <code>k&gt;1</code>
</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_060---2024-06-10">[0.6.0] - 2024-06-10<a class="anchor" aria-label="anchor" href="#id_060---2024-06-10"></a></h2>
<div class="section level3">
<h3 id="added-9">Added<a class="anchor" aria-label="anchor" href="#added-9"></a></h3>
<ul><li>
<code>local_G</code> : compute Z-scores for marker counts in a component graph comparing local vs global abundance</li>
<li>
<code>JoinLayers.CellGraphAssay5</code> : <code>JoinLayers</code> method for <code>CellGraphAssay5</code> class objects to support joining layers in Seurat V5 type Assay objects supported by pixelatorR</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_052---2024-05-20">[0.5.2] - 2024-05-20<a class="anchor" aria-label="anchor" href="#id_052---2024-05-20"></a></h2>
<div class="section level3">
<h3 id="fixes-9">Fixes<a class="anchor" aria-label="anchor" href="#fixes-9"></a></h3>
<ul><li>Fixed bug in <code>.validate_polarization</code> that would throw an error if columns were in unexpected order in <code>polarization.parquet</code>.</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_051---2024-05-20">[0.5.1] - 2024-05-20<a class="anchor" aria-label="anchor" href="#id_051---2024-05-20"></a></h2>
<div class="section level3">
<h3 id="updates-4">Updates<a class="anchor" aria-label="anchor" href="#updates-4"></a></h3>
<ul><li>Loading A-node projected graphs from PXL files with upia/upib stored as dictionaries is now supported when using <code>LoadCellGraphs</code>
</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_050---2024-05-16">[0.5.0] - 2024-05-16<a class="anchor" aria-label="anchor" href="#id_050---2024-05-16"></a></h2>
<div class="section level3">
<h3 id="added-10">Added<a class="anchor" aria-label="anchor" href="#added-10"></a></h3>
<ul><li>
<code>inspect_pxl_file</code> : utility function to inspect the contents of a PXL file</li>
<li>
<code>ReadMPX_layouts</code> : read function to import pre-computed layouts</li>
</ul></div>
<div class="section level3">
<h3 id="updates-5">Updates<a class="anchor" aria-label="anchor" href="#updates-5"></a></h3>
<ul><li>Updated show method for <code>CellGraph</code> class objects</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-10">Fixes<a class="anchor" aria-label="anchor" href="#fixes-10"></a></h3>
<ul><li>Updated experimental function <code>WriteMPX_pxl_file</code> for compatibility with the anndata Python library. Note that since the <code>WriteMPX_pxl_file</code> function is experimental, the function may change at any point in the future.</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_042---2024-05-06">[0.4.2] - 2024-05-06<a class="anchor" aria-label="anchor" href="#id_042---2024-05-06"></a></h2>
<div class="section level3">
<h3 id="fixes-11">Fixes<a class="anchor" aria-label="anchor" href="#fixes-11"></a></h3>
<ul><li>Fixed bug in <code>PolarizationSsoresToAssay</code> and <code>PolarizationSsoresToAssay</code> which failed when column IDs included dashes</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_041---2024-04-29">[0.4.1] - 2024-04-29<a class="anchor" aria-label="anchor" href="#id_041---2024-04-29"></a></h2>
<div class="section level3">
<h3 id="updates-6">Updates<a class="anchor" aria-label="anchor" href="#updates-6"></a></h3>
<ul><li>Seurat methods <code>PolarizationSsoresToAssay</code> and <code>PolarizationSsoresToAssay</code> now adds a key to the returned assay object</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_040---2024-04-24">[0.4.0] - 2024-04-24<a class="anchor" aria-label="anchor" href="#id_040---2024-04-24"></a></h2>
<div class="section level3">
<h3 id="updated-pixelatorr-classes-and-their-methods-for-improved-io">Updated <code>pixelatorR</code> classes and their methods for improved I/O<a class="anchor" aria-label="anchor" href="#updated-pixelatorr-classes-and-their-methods-for-improved-io"></a></h3>
<ul><li>
<code>pixelatorR</code> now provides two classes to store MPX data: <code>CellGraphAssay5</code> and <code>CellGraphAssay5</code>
<ul><li>
<code>CellGraphAssay5</code> inherits the <code>Assay5</code> class introduced in Seurat v5 and will be used when <code>options(Seurat.object.assay.version = "v5")</code>
</li>
<li>
<code>CellGraphAssay</code> inherits the <code>Assay</code> class from Seurat v3 and will be used when <code>options(Seurat.object.assay.version = "v3")</code>
</li>
</ul></li>
<li>All <code>CellGraphAssay</code> methods now handle <code>CellGraphAssay5</code> class objects</li>
</ul></div>
<div class="section level3">
<h3 id="hdf5">hdf5<a class="anchor" aria-label="anchor" href="#hdf5"></a></h3>
<ul><li>Switched from R package <code>rhdf5</code> (Bioconductor) to <code>hdf5r</code> (CRAN) to handle reading and writing of HDF5 files</li>
</ul></div>
<div class="section level3">
<h3 id="writing-pxl-files">Writing PXL files<a class="anchor" aria-label="anchor" href="#writing-pxl-files"></a></h3>
<ul><li>Introduced experimental function <code>WriteMPX_pxl_file</code> to write MPX data from a Seurat object to a PXL file</li>
</ul></div>
<div class="section level3">
<h3 id="fixes-12">Fixes<a class="anchor" aria-label="anchor" href="#fixes-12"></a></h3>
<ul><li>Made <code>EdgeRankPlot</code> compatible with incoming changes in pixelator Python &gt;0.16.2 where <code>edges</code> is renamed to <code>molecules</code> in <code>CellGraphAssay</code> objects</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_030-2024-03-28">[0.3.0] 2024-03-28<a class="anchor" aria-label="anchor" href="#id_030-2024-03-28"></a></h2>
<div class="section level3">
<h3 id="added-utility-functions-to-clean-up-edgelist-directories">Added utility functions to clean up edgelist directories<a class="anchor" aria-label="anchor" href="#added-utility-functions-to-clean-up-edgelist-directories"></a></h3>
<ul><li>
<code>edgelist_directories_clean</code> runs a cleanup of the edgelist directory set by the “pixelatorR.arrow_outdir” global option</li>
<li>
<code>edgelist_directories_du</code> returns the total disk usage of the edgelist directory set by the “pixelatorR.arrow_outdir” global option</li>
<li>Added global option “pixelatorR.arrowdir_maxsize”. When running <code>ReadMPX_Seurat</code>, <code>merge.CellGraphAssay</code>, <code>subset.CellGraphAssay</code> or <code>RenameCells.CellGraphAssay</code>, a clean up will be triggered if the total disk usage of the edgelist directory exceeds this value. The default value is 5 GB.</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_020---2024-03-18">[0.2.0] - 2024-03-18<a class="anchor" aria-label="anchor" href="#id_020---2024-03-18"></a></h2>
<div class="section level3">
<h3 id="added-new-test-data-set---five_cellspxl">Added new test data set - five_cells.pxl<a class="anchor" aria-label="anchor" href="#added-new-test-data-set---five_cellspxl"></a></h3>
<p>Once <code>pixelatorR</code> is installed, the test data can be read from the following path:</p>
<pre><code><span><span class="va">pxl_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/five_cells"</span>,</span>
<span>  <span class="st">"five_cells.pxl"</span>,</span>
<span>  package <span class="op">=</span> <span class="st">"pixelatorR"</span></span>
<span><span class="op">)</span></span></code></pre>
<ul><li>The data set contains 5 cells from three different MPX data sets:
<ul><li>
<a href="https://software.pixelgen.com/datasets/" class="external-link">CD3 capped cell: RCVCMP0000217</a> from the CD3 capping data set (stimulated)</li>
<li>
<a href="https://software.pixelgen.com/datasets/" class="external-link">B cell: RCVCMP0000118, CD4 T cell: RCVCMP0000487, CD8 T cell: RCVCMP0000655</a> from a PBMC data set</li>
<li>
<a href="https://software.pixelgen.com/datasets/" class="external-link">Uropod cell: RCVCMP0000263</a> from the RANTES stimulated data set</li>
</ul></li>
<li>All cells now have fully connected components</li>
<li>The total file size is 2.1 MB, where the following fields have been excluded from the edgelist.parquet file: “umi”, “sequence”, “umi_unique_count”, “upi_unique_count”</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="id_013---2024-03-18">[0.1.3] - 2024-03-18<a class="anchor" aria-label="anchor" href="#id_013---2024-03-18"></a></h2>
<ul><li>The latest version of <code>arrow</code> on CRAN (v15.0.1) contains several bugs which are picked up by the R CMD checks. Fixed the version of <code>arrow</code> to v14.0.2.1 until a stable release is available.</li>
</ul></div>
<div class="section level2">
<h2 id="id_012---2024-03-14">[0.1.2] - 2024-03-14<a class="anchor" aria-label="anchor" href="#id_012---2024-03-14"></a></h2>
<ul><li>Fixed bug in <code>LoadCellGraphs</code> when working on Seurat objects with multiple data sets (merged). Previous version returned components in an invalid order.</li>
</ul></div>
<div class="section level2">
<h2 id="id_011---2024-02-29">[0.1.1] - 2024-02-29<a class="anchor" aria-label="anchor" href="#id_011---2024-02-29"></a></h2>
<ul><li>Fixed bug in <code>ComputeLayout</code> when normalizing or projecting layout coordinates</li>
<li>Added layout utility functions:
<ul><li>
<code>center_layout_coordinates</code> - Center layout coordinates at the origin</li>
<li>
<code>normalize_layout_coordinates</code> - Normalize layout coordinates such that they are centered at origin and the have a median length (euclidean norm) of 1</li>
<li>
<code>project_layout_coordinates_on_unit_sphere</code> - Project layout 3D coordinates onto the unit sphere</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="id_010---2024-02-21">[0.1.0] - 2024-02-21<a class="anchor" aria-label="anchor" href="#id_010---2024-02-21"></a></h2>
<ul><li>First public release of pixelatorR.</li>
</ul></div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>© Pixelgen Technologies 2024 | <a href="https://www.pixelgen.com/cookie-policy/" class="external-link">About cookies</a> | <a href="https://www.pixelgen.com/privacy-policy/" class="external-link">Privacy policy</a></p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

