<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Load CellGraphs — LoadCellGraphs • pixelatorR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Load CellGraphs — LoadCellGraphs"><meta name="description" content="Loads a list of CellGraph objects."><meta property="og:description" content="Loads a list of CellGraph objects."><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pixelatorR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.15.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><a class="dropdown-item" href="../articles/introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/load_data.html">Load Data</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/PixelgenTechnologies/pixelatorR" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Load CellGraphs</h1>

      <div class="d-none name"><code>LoadCellGraphs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Loads a list of <code><a href="CellGraph-class.html">CellGraph</a></code> objects.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">LoadCellGraphs</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'FileSystemDataset'</span></span>
<span><span class="fu">LoadCellGraphs</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">cells</span>,</span>
<span>  load_as <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bipartite"</span>, <span class="st">"Anode"</span>, <span class="st">"linegraph"</span><span class="op">)</span>,</span>
<span>  add_marker_counts <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  data_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PNA"</span>, <span class="st">"MPX"</span><span class="op">)</span>,</span>
<span>  chunk_size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'MPXAssay'</span></span>
<span><span class="fu">LoadCellGraphs</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  cells <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span>,</span>
<span>  load_as <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bipartite"</span>, <span class="st">"Anode"</span>, <span class="st">"linegraph"</span><span class="op">)</span>,</span>
<span>  add_marker_counts <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_layouts <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  chunk_size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'CellGraphAssay'</span></span>
<span><span class="fu">LoadCellGraphs</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  cells <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span>,</span>
<span>  load_as <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bipartite"</span>, <span class="st">"Anode"</span>, <span class="st">"linegraph"</span><span class="op">)</span>,</span>
<span>  add_marker_counts <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_layouts <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  chunk_size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'CellGraphAssay5'</span></span>
<span><span class="fu">LoadCellGraphs</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  cells <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span>,</span>
<span>  load_as <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bipartite"</span>, <span class="st">"Anode"</span>, <span class="st">"linegraph"</span><span class="op">)</span>,</span>
<span>  add_marker_counts <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_layouts <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  chunk_size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'PNAAssay'</span></span>
<span><span class="fu">LoadCellGraphs</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  cells <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span>,</span>
<span>  add_marker_counts <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_layouts <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  chunk_size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'PNAAssay5'</span></span>
<span><span class="fu">LoadCellGraphs</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  cells <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span>,</span>
<span>  add_marker_counts <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_layouts <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  chunk_size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'Seurat'</span></span>
<span><span class="fu">LoadCellGraphs</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  assay <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cells <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span>,</span>
<span>  load_as <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bipartite"</span>, <span class="st">"Anode"</span>, <span class="st">"linegraph"</span><span class="op">)</span>,</span>
<span>  add_marker_counts <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_layouts <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  chunk_size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>A <code>Seurat</code> object or an <code><a href="CellGraphAssay-class.html">CellGraphAssay</a></code> object</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Parameters passed to other methods</p></dd>


<dt id="arg-cells">cells<a class="anchor" aria-label="anchor" href="#arg-cells"></a></dt>
<dd><p>A character vector of cell names to load CellGraphs for</p></dd>


<dt id="arg-load-as">load_as<a class="anchor" aria-label="anchor" href="#arg-load-as"></a></dt>
<dd><p>Choose how the cell graph should be represented. This option has no
effect when <code>data_type = "PNA"</code> (see details below)</p></dd>


<dt id="arg-add-marker-counts">add_marker_counts<a class="anchor" aria-label="anchor" href="#arg-add-marker-counts"></a></dt>
<dd><p>Should marker counts be added to the CellGraph objects?
Note that this option is ignored for the <code>data.frame</code> method when <code>data_type = "PNA"</code>.</p></dd>


<dt id="arg-data-type">data_type<a class="anchor" aria-label="anchor" href="#arg-data-type"></a></dt>
<dd><p>One of "PNA" or "MPX"</p></dd>


<dt id="arg-chunk-size">chunk_size<a class="anchor" aria-label="anchor" href="#arg-chunk-size"></a></dt>
<dd><p>Length of chunks used to load CellGraphs from edge list.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Print messages</p></dd>


<dt id="arg-add-layouts">add_layouts<a class="anchor" aria-label="anchor" href="#arg-add-layouts"></a></dt>
<dd><p>Load layouts from the PXL file if available.</p></dd>


<dt id="arg-force">force<a class="anchor" aria-label="anchor" href="#arg-force"></a></dt>
<dd><p>Force load graph(s) if they are already loaded</p></dd>


<dt id="arg-cl">cl<a class="anchor" aria-label="anchor" href="#arg-cl"></a></dt>
<dd><p>A cluster object created by makeCluster, or an integer
to indicate number of child-processes (integer values are ignored
on Windows) for parallel evaluations. See Details on performance
in the documentation for <code>pbapply</code>. The default is NULL,
which means that no parallelization is used.</p></dd>


<dt id="arg-assay">assay<a class="anchor" aria-label="anchor" href="#arg-assay"></a></dt>
<dd><p>Assay name</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object with a list of <code><a href="CellGraph-class.html">CellGraph</a></code> objects</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>LoadCellGraphs</code> will only work if the PXL file path(s) stored in the object are valid.
You can check the PXL file paths stored in the object with the <code><a href="FSMap.html">FSMap</a></code> method.
If the PXL file(s) are invalid, an error will be thrown. Visit <code><a href="RestorePaths.html">RestorePaths</a></code>
for more information on how to update the PXL file paths.</p>
    </div>
    <div class="section level2">
    <h2 id="graph-representations">Graph representations<a class="anchor" aria-label="anchor" href="#graph-representations"></a></h2>



<p>Note that PNA component graphs are always loaded as bipartite graphs.</p>
<p>For MPX data, one of the following graph representations can be used by specifying the
<code>load_as</code> parameter:</p>
<p>In the bipartite graph, edges can only go from a upia to a upib. The bipartite graph
is first collapsed from a multigraph to a simple graph by aggregating marker counts
for each upia/upib combination. For visualization of marker counts on the graph, it is
often convenient to project values on the nodes; however, the marker counts are not available
in the nodes in the bipartite graph. To circumvent this issue, node counts are calculated
by aggregating its edge counts. This means that the total marker count will be inflated.</p>
<p>In the A node projected-graph, pairs of upias that share a upib are connected with an edge.
The (upia) node counts are calculated by aggregating counts across all edges associated
with the A nodes. The number of nodes in the A node projected-graph is substantially
lower than the bipartite graph.</p>
<p>Starting with a bipartite graph, a node is placed on each edge. Then, an edge is drawn
between each pair of adjacent nodes. The number of nodes in the linegraph is equivalent
to the number of edges in the bipartite graph. However, the number of edges is substantially
larger. One major advantage with the linegraph is that the node counts represent the actual
raw data, which is not the case for the bipartite graph and the A node projected-graph. On the
down side, linegraphs are much larger and tends to slow down layout computations and
visualizations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Read from PNAAssay</span></span></span>
<span class="r-in"><span><span class="va">pxl_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="pna_dataset.html">minimal_pna_pxl_file</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">seur_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="ReadPNA_Seurat.html">ReadPNA_Seurat</a></span><span class="op">(</span><span class="va">pxl_file</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Created a <span style="color: #0000BB;">&lt;Seurat&gt;</span> object with <span style="color: #0000BB;">5</span> cells and <span style="color: #0000BB;">158</span> targeted surface proteins</span>
<span class="r-in"><span><span class="va">pna_assay</span> <span class="op">&lt;-</span> <span class="fu">LoadCellGraphs</span><span class="op">(</span><span class="va">seur_obj</span><span class="op">[[</span><span class="st">"PNA"</span><span class="op">]</span><span class="op">]</span>, cells <span class="op">=</span> <span class="st">"0a45497c6bfbfb22"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Fetching edgelists for 1 cells </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> → Creating <span style="color: #0000BB;">&lt;CellGraph&gt;</span> objects</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> → Fetching marker counts</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> → Adding marker counts to <span style="color: #0000BB;">&lt;CellGraph&gt;</span> object(s)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Successfully loaded 1 <span style="color: #0000BB;">&lt;CellGraph&gt;</span> object(s).</span>
<span class="r-in"><span><span class="fu"><a href="CellGraphs.html">CellGraphs</a></span><span class="op">(</span><span class="va">pna_assay</span><span class="op">)</span><span class="op">[[</span><span class="st">"0a45497c6bfbfb22"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A CellGraph object containing a <span style="color: #5555FF;">bipartite</span> graph with <span style="color: #5555FF;">43543</span> nodes and <span style="color: #5555FF;">97014</span> edges</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of markers:  <span style="color: #5555FF;">149</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>© Pixelgen Technologies 2024 | <a href="https://www.pixelgen.com/cookie-policy/" class="external-link">About cookies</a> | <a href="https://www.pixelgen.com/privacy-policy/" class="external-link">Privacy policy</a></p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

